import requests
from bs4 import BeautifulSoup

def save_webpage_text(url, filename):
    """Saves the text content of a webpage to a text file."""
    try:
        response = requests.get(url)
        response.raise_for_status()  # Check for HTTP errors

        soup = BeautifulSoup(response.content, 'html.parser')

        # Extract text from <p> tags (paragraphs)
        text = ' '.join([p.get_text() for p in soup.find_all('p')])

        with open(filename, 'w', encoding='utf-8') as file:
            file.write(text)

        print(f"Webpage text saved to '{filename}'")

    except requests.exceptions.RequestException as e:
        print(f"Error: {e}")

# Example usage (for Windows):
url = 'https://www.indiatoday.in/education-today/notification/story/icse-isc-result-2024-cisce-to-announce-class-10-12-result-date-soon-2535153-2024-05-04'
filename = r'/Users/aryankhandelwal/Desktop/webpage_text.txt'  # Replace YourUsername with your actual username
save_webpage_text(url, filename)
